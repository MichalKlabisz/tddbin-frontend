!function t(e,n,r){function o(a,u){if(!n[a]){if(!e[a]){var s="function"==typeof require&&require;if(!u&&s)return s(a,!0);if(i)return i(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var l=n[a]={exports:{}};e[a][0].call(l.exports,function(t){var n=e[a][1][t];return o(n?n:t)},l,l.exports,t,e,n,r)}return n[a].exports}for(var i="function"==typeof require&&require,a=0;a<r.length;a++)o(r[a]);return o}({1:[function(t,e,n){!function(t,r){"function"==typeof define&&define.amd?define(r):"object"==typeof n?e.exports=r:t.atomic=r(t)}(this,function(t){"use strict";var e={},n=function(t){var e;try{e=JSON.parse(t.responseText)}catch(n){e=t.responseText}return[e,t]},r=function(e,r,o){var i={success:function(){},error:function(){}},a=t.XMLHttpRequest||ActiveXObject,u=new a("MSXML2.XMLHTTP.3.0");u.open(e,r,!0),u.setRequestHeader("Content-type","application/x-www-form-urlencoded"),u.onreadystatechange=function(){4===u.readyState&&(u.status>=200&&u.status<300?i.success.apply(i,n(u)):i.error.apply(i,n(u)))},u.send(o);var s={success:function(t){return i.success=t,s},error:function(t){return i.error=t,s}};return s};return e.get=function(t){return r("GET",t)},e.put=function(t,e){return r("PUT",t,e)},e.post=function(t,e){return r("POST",t,e)},e["delete"]=function(t){return r("DELETE",t)},e})},{}],2:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./_util"),o=r.getShortcutObject,i=r.metaKey,a=function(){},u=[o([i,"D"],a,"Delete line"),o([i,"Z"],a,"Undo"),o([i,"Shift","D"],a,"Duplicate line"),o([i,"Shift","Z"],a,"Redo"),o([i,"/"],a,"Comment in/out line")];n.shortcuts=u},{"./_util":5}],3:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(){r(this,t)}return n(t,{setDomNodeId:{value:function(t){this._domNodeId=t,this._init()}},_init:{value:function(){ace.require("ace/ext/language_tools");var t=ace.edit(this._domNodeId);this._editor=t,t.getSession().setMode("ace/mode/javascript"),t.setOptions({enableBasicAutocompletion:!0}),t.getSession().setTabSize(2),document.getElementById(this._domNodeId).style.fontSize="12px",document.getElementById(this._domNodeId).style.backgroundColor="white"}},setContent:{value:function(t){this._editor.selectAll(),this._editor.insert(t)}},getContent:{value:function(){return this._editor.getValue()}}}),t}();e.exports=o},{}],4:[function(t,e,n){"use strict";function r(t,e,n){a.get(t).success(n).error(e)}var o=function(t){return t&&t.__esModule?t["default"]:t};n.xhrGet=r,Object.defineProperty(n,"__esModule",{value:!0});var i=o(t("atomic")),a=i(window)},{atomic:1}],5:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../src/keyboard-shortcut/util").toPrintableKeys,i=r(t("../src/keyboard-shortcut/shortcut")),a=0===navigator.platform.indexOf("Mac"),u={Meta:"⌘Command",Shift:"⇧Shift"},s=function(t){return o(t,u)},c=function(t,e,n){var r=new i(t,e,n);return r.printableKeysFormatter=s,r};n.getShortcutObject=c;var l=a?"Meta":"Control";n.metaKey=l},{"../src/keyboard-shortcut/shortcut":16,"../src/keyboard-shortcut/util":17}],6:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(t("react")),u=n(t("./keyboard-shortcut.js")),s=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function(){var t=this.props,e=t.shortcuts,n=t.metaKeySymbol,r=e.length>0,o={display:r?"block":"none"};return a.createElement("div",{className:"keyboard-shortcut-overlay",style:o},e.map(function(t,e){return a.createElement(u,{shortcut:t,key:e})}),a.createElement("div",{className:"hint"},"Note: All keyboard shortcuts fire ",a.createElement("b",null,"when you release the ",n),"  key.",a.createElement("br",null),"This allows for combinations such as  ",n,"+I+E  and  ",n,"+I+E+E , and way more",a.createElement("br",null),"combinations for faster working with your code."))}}}),e}(a.Component);e.exports=s},{"./keyboard-shortcut.js":7,react:19}],7:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(t("react")),u=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function(){var t=this.props.shortcut,e=t.printableKeys,n=t.helpText;return a.createElement("div",null,a.createElement("span",{className:"shortcut"},e," "),n)}}}),e}(a.Component);e.exports=u},{react:19}],8:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(t("react")),u=n(t("../components/navigation-bar.js")),s=n(t("../components/keyboard-shortcut-overlay.js")),c=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function(){var t=this.props,e=t.metaKeySymbol,n=t.onSave,r=t.onResetCode,o=t.editorId,i=t.runnerId,c=t.shortcuts;return a.createElement("div",null,a.createElement(u,{metaKeySymbol:e,onSave:n,onResetCode:r}),a.createElement("div",{className:"editor-and-runner"},a.createElement("div",{id:o,className:"editor"}),a.createElement("div",{id:i,className:"runner"})),a.createElement(s,{metaKeySymbol:e,shortcuts:c}))}}}),e}(a.Component);e.exports=c},{"../components/keyboard-shortcut-overlay.js":6,"../components/navigation-bar.js":9,react:19}],9:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(t("react")),u=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{render:{value:function(){var t=this.props,e=t.onSave,n=t.metaKeySymbol,r=t.onResetCode;return a.createElement("header",{className:"navigation-bar"},a.createElement("button",{className:"logo"}),a.createElement("span",{className:"tddbin"},"TDD bin"),a.createElement("button",{className:"save",title:"Run tests ("+n+"S)",onClick:e},"Run tests"),a.createElement("button",{title:"Reset code",onClick:r},"Reset code"),a.createElement("a",{href:"http://twitter.com/tddbin",className:"icon twitter",title:"Get in touch."}),a.createElement("a",{href:"http://github.com/tddbin/tddbin-frontend",className:"icon github",title:"Get (into) the code and contribute."}),a.createElement("a",{href:"https://trello.com/b/FW1gUVxe/tddbin-com",className:"icon trello",title:"Vote, add features, discuss, ..."}),a.createElement("a",{href:"http://uxebu.com",className:"icon uxebu",title:"Made by uxebu."}))}}}),e}(a.Component);e.exports=u},{react:19}],10:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(t("./_external-deps/ace.js")),a=function(){function t(e){o(this,t),this.ace=new i,this.ace.setDomNodeId(e)}return r(t,{setContent:{value:function(t){this.ace.setContent(t)}},getContent:{value:function(){return this.ace.getContent()}}}),t}();e.exports=a},{"./_external-deps/ace.js":3}],11:[function(t,e,n){"use strict";var r=function(t){return t&&t.__esModule?t["default"]:t};Object.defineProperty(n,"__esModule",{value:!0});var o=t("./main-controller").Controller,i=t("./_util"),a=i.getShortcutObject,u=i.metaKey,s=t("./_aceDefaultShortcuts").shortcuts,c=r(t("./startup")),l=t("./_external-deps/xhr.js").xhrGet,f=r(t("./kata-url.js")),d=function(){return v.onSave()},h=s.concat([a([u,"S"],d,"Save+Run")]),p=document.getElementById("tddbin"),v=new o(p,{iframeSrcUrl:"./mocha/spec-runner.html",shortcuts:h}),y=function(t){var e=function(){return v.onSave()};v.setEditorContent(t),setTimeout(e,1e3)},_="es5/mocha+assert/assert-api",m="http://katas.tddbin.com/katas/"+_+".js";n.DEFAULT_KATA_URL=m;var b=l.bind(null,m),w=new c(l,b),g=window.location.hash.replace(/^#\?/,""),S=f.fromQueryString(g);w.loadSourceCode(S,y)},{"./_aceDefaultShortcuts":2,"./_external-deps/xhr.js":4,"./_util":5,"./kata-url.js":12,"./main-controller":18,"./startup":20}],12:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(){r(this,t)}return n(t,null,{fromQueryString:{value:function(t){var e=t.match(/kata=([^&]+)/);return e&&2===e.length?(e=e[1],"http://katas.tddbin.com/katas/"+e+".js"):void 0}}}),t}();e.exports=o},{}],13:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={onWindowBlur:function(t){window.addEventListener("blur",t)}};n.browserEventUtil=r},{}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={PREVENT_DEFAULT_ACTION:"preventDefault",addKeyDownListener:function(t){document.addEventListener("keydown",function(e){var n=t(a(e));n===r.PREVENT_DEFAULT_ACTION&&e.preventDefault()})},addKeyUpListener:function(t){document.addEventListener("keyup",function(e){t(a(e))})}};n.keyboardEventUtil=r;var o={16:"Shift",17:"Control",18:"Alt",91:"Meta",117:"F6"},i=function(t){var e=o;return t in e?e[t]:String.fromCharCode(t)},a=function(t){return t.key?1===t.key.length?t.key.toUpperCase():t.key:i(t.keyCode)}},{}],15:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=t("./keyboard-event-util").keyboardEventUtil,i=t("./browser-event-util").browserEventUtil,a=function(){function t(){r(this,t),this._pressedKeys=[],this._registeredShortcuts=[],o.addKeyDownListener(this._keyDown.bind(this)),o.addKeyUpListener(this._keyUp.bind(this)),i.onWindowBlur(this._fireOnShortcutEndCallback.bind(this)),this._firstKeyOfCurrentShortcut=null,this._onKeyDownCallback=null,this._onShortcutEndCallback=null}return n(t,{registerShortcut:{value:function(t){this._registeredShortcuts.push(t)}},registerShortcuts:{value:function(t){var e=this;t.forEach(function(t){e.registerShortcut(t)})}},onKeyDown:{value:function(t){this._onKeyDownCallback=t}},onShortcutEnd:{value:function(t){this._onShortcutEndCallback=t}},_fireOnKeyDownCallback:{value:function(){this._onKeyDownCallback&&this._onKeyDownCallback(this._pressedKeys)}},_fireOnShortcutEndCallback:{value:function(){this._onShortcutEndCallback&&this._onShortcutEndCallback()}},_keyDown:{value:function(t){var e=0===this._pressedKeys.length;return e?this._handlePossibleShortcutStart(t):this._handleConsecutiveKey(t)}},_handlePossibleShortcutStart:{value:function(t){var e=this._registeredShortcuts.some(function(e){return e.isStartOfKeyCombo([t])});e&&(this._pressedKeys=[t],this._firstKeyOfCurrentShortcut=t,this._fireOnKeyDownCallback())}},_handleConsecutiveKey:{value:function(t){var e=1===this._pressedKeys.length&&this._pressedKeys[0]===t;if(!e)return this._pressedKeys.push(t),this._fireOnKeyDownCallback(),this._isRegisteredShortcut(this._pressedKeys)?o.PREVENT_DEFAULT_ACTION:void 0}},_keyUp:{value:function(t){this._isEndOfCurrentShortcut(t)&&(this._processFirstMatchingShortcut(this._pressedKeys),this._fireOnShortcutEndCallback(),this._pressedKeys=[])}},_isEndOfCurrentShortcut:{value:function(t){return t===this._firstKeyOfCurrentShortcut}},_processFirstMatchingShortcut:{value:function(t){this._registeredShortcuts.some(function(e){return e.isKeyCombo(t)?(e.fireAssignedCallback(),!0):!1})}},_isRegisteredShortcut:{value:function(t){return this._registeredShortcuts.some(function(e){return e.isKeyCombo(t)})}}}),t}();e.exports=a},{"./browser-event-util":13,"./keyboard-event-util":14}],16:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(e,n,o){r(this,t),this._keys=e,this._fn=n,this.helpText=o,this._printableKeysFormatter=null}return n(t,{isStartOfKeyCombo:{value:function(t){var e=this._keys;return t.every(function(t,n){return e[n]===t})}},isKeyCombo:{value:function(t){return t.join("+")===this._keys.join("+")}},fireAssignedCallback:{value:function(){this._fn()}},printableKeysFormatter:{set:function(t){this._printableKeysFormatter=t}},printableKeys:{get:function(){var t=this._printableKeysFormatter,e=this._keys;return t&&(e=t(this._keys)),e.join("+")}}}),t}();e.exports=o},{}],17:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(t,e){return t.map(function(t){return e[t]||t})};n.toPrintableKeys=r},{}],18:[function(t,e,n){"use strict";function r(t,e){this._domNode=t,this._config=e,this.render()}var o=function(t){return t&&t.__esModule?t["default"]:t};n.Controller=r,Object.defineProperty(n,"__esModule",{value:!0});var i=o(t("react")),a=o(t("./components/main.js")),u=o(t("./test-runner/runner")),s=o(t("./keyboard-shortcut/shortcut-processor")),c=o(t("./editor"));r.prototype={_component:null,render:function(){this._editorDomNodeId="editorId",this._runnerDomNodeId="runnerId",this._render(),this._editor=new c(this._editorDomNodeId),this._runner=new u(document.getElementById(this._runnerDomNodeId)),this._runner.render(this._config.iframeSrcUrl),this.setEditorContent(""),this._registerShortcuts(this._config.shortcuts)},_render:function(){var t=void 0===arguments[0]?[]:arguments[0],e={metaKeySymbol:"⌘",editorId:this._editorDomNodeId,runnerId:this._runnerDomNodeId,onSave:this.onSave.bind(this),onResetCode:this._onResetCode,shortcuts:t};this._component=i.render(i.createElement(a,e),this._domNode)},onSave:function(){window.localStorage.setItem("code",this._editor.getContent()),this.runEditorContent()},_onResetCode:function(){window.localStorage.removeItem("code"),window.location.reload()},setEditorContent:function(t){this._editor.setContent(t)},runEditorContent:function(){this._runner.send(this._editor.getContent())},_registerShortcuts:function(t){var e=new s;e.registerShortcuts(t),e.onKeyDown(this._updateOverlayView.bind(this)),e.onShortcutEnd(this._hideOverlayView.bind(this))},_hideOverlayView:function(){this._render([])},_updateOverlayView:function(t){var e=this._config.shortcuts,n=e.filter(function(e){return e.isStartOfKeyCombo(t)});this._render(n)}}},{"./components/main.js":8,"./editor":10,"./keyboard-shortcut/shortcut-processor":15,"./test-runner/runner":22,react:19}],19:[function(t,e){(function(t){"use strict";var n=t.React;e.exports=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e){"use strict";var n=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),r=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},o=function(){function t(e,n){r(this,t),this.xhrGet=e,this.xhrGetDefaultKata=n}return n(t,{loadSourceCode:{value:function(t,e){var n=localStorage.getItem("code");t?this.loadKataFromUrl(t,e):n?e(n):this.loadDefaultKata(e),window.location.hash=window.location.hash.replace(/kata=([^&]+)/,"")}},loadDefaultKata:{value:function(t){this.xhrGetDefaultKata(function(e,n){var r=n.status;return t("// Default kata not found (status "+r+")\n// Maybe try a different kata (see URL).")},function(e){t(e)})}},loadKataFromUrl:{value:function(t,e){this.xhrGet(t,function(n,r){var o=r.status;return e('// Kata at "'+t+'" not found (status '+o+")\n// Maybe try a different kata (see URL).")},function(t){e(t)})}}}),t}();e.exports=o},{}],21:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(t.__proto__=e)},i=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=n(t("react")),u=function(t){function e(){i(this,e),null!=t&&t.apply(this,arguments)}return o(e,t),r(e,{getIframeRef:{value:function(){return this.refs.iframe.getDOMNode()}},render:{value:function(){return a.createElement("iframe",{ref:"iframe",src:this.props.iframeSrc,width:"100%",height:"100%"})}}}),e}(a.Component);e.exports=u},{react:19}],22:[function(t,e){"use strict";var n=function(t){return t&&t.__esModule?t["default"]:t},r=function(){function t(t,e){for(var n in e){var r=e[n];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,e)}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},i=n(t("react")),a=n(t("./iframe")),u=function(){function t(e,n){o(this,t),this._onStats=null,this._domNode=e,(n||window).addEventListener("message",this.handleDataReceived.bind(this),!1)}return r(t,{render:{value:function(t){var e=i.render(i.createElement(a,{iframeSrc:t}),this._domNode);this._iframeRef=e.getIframeRef()}},send:{value:function(t){var e=this._iframeRef.contentWindow;e.postMessage(t,"*")}},onStats:{value:function(t){this._onStats=t}},handleDataReceived:{value:function(t){if(this._onStats){var e=t.data;this._onStats(e)}}}}),t}();e.exports=u},{"./iframe":21,react:19}]},{},[11]);